## chapter 2 정리

# 리팩터링 정의

리팩터링은 결국 동작을 보존하는 작은 단계들을 거쳐 코드를 수정하고, 이러한 단계들을 순차적으로 연결하여 큰 변화를 만들어내는 일이다.

> 누군가 "리팩터링하다가 코드가 깨져서 며칠이나 고생했다"라고 한다면, 십중팔구 리팩터링한 것이 아니다.

# 리팩터링하는 이유

> 리팩터링이 소프트웨어의 모든 문제점을 해결하는 만병 통치약은 절대 아니다. 하지만 코드를 건강한 상태로 유지하는 데 도와주는 약임은 분명하다.

리팩터링하면...

1. 소프트웨어 설계가 좋아진다
2. 소프트웨어를 이해하기 쉬워진다
3. 버그를 쉽게 찾을 수 있다
4. 프로그래밍 속도를 높일 수 있다

# 언제 리팩터링해야 할까?

3의 법칙

1. 처음에는 그냥 한다.
2. 비슷한 일을 두 번째로 하게 되면, 일단 계속 진행한다.
3. 비슷한 일을 세 번째 하게 되면 리팩터링한다.

- 준비를 위한 리팩터링: 기능을 쉽게 추가할 수 있도록 만들기
- 이해를 위한 리팩터링: 코드를 이해하기 쉽게 만들기
- 쓰레기 줍기 리팩터링: 간단히 수정할 수 있는 것은 즉시 고치기
- 계획된 리팩터링과 수시로 하는 리팩터링: 리팩터링 시간을 일정에 따로 잡아두지 않고, 다른 일을 하는 중에 처리한다.
  > 보기 싫은 코드를 발견하면 리팩터링하자. 그런데 잘 작성된 코드 역시 수많은 리팩터링을 거쳐야 한다.
  > _무언가 수정하려 할 때는 먼저 수정하기 쉽게 정돈하고(단, 만만치 않을 수 있다) 그런 다음 쉽게 수정하자. - 켄트 벡_
- 오래 걸리는 리팩터링: 팀 전체가 리팩터링에 매달리지 않고, 리팩터링해야 할 코드와 관련한 작업을 할 때마다 조금씩 개선한다.
- 코드 리뷰에 리팩터링 활용하기
- 리팩터링하지 말아야 할 때
  > 외부 API 다루듯 호출해서 쓰는 코드라면 지저분해도 그냥 둔다. 내부 동작을 이해해야 할 시점에 리팩터링해야 효과를 제대로 볼 수 있다.
  > 리팩터링하는 것보다 처음부터 새로 작성하는 게 더 쉬울 때도 리팩터링하지 않는다.
